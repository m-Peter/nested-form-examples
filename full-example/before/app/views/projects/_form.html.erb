<%= simple_form_for(@project) do |f| %>
  <%= f.input :name, :hint => 'The title of your Project' %>

  <ul class="tabs">
    <li class="active"><%= link_to 'Tasks (:has_many --nested)', '#tasks' %></li>
    <li><%= link_to 'People (:has_many)', '#people' %></li>
    <li><%= link_to 'Owner (:belongs_to)', '#owner' %></li>
    <li><%= link_to 'Tags (:has_many :through)', '#tags' %></li>
  </ul>

  <div class="tab content">
    <div id="tasks" class="active">
      <%= f.simple_fields_for :tasks do |task| %>
        <%= render 'task_fields', :f => task %>
      <% end %>
      <div class="links">
        <%= link_to_add_fields 'add task', f, :tasks %>
      </div>
    </div>

    <div id="people">
      <%= f.simple_fields_for :people do |person| %>
        <%= render "person_fields", :f => person %>
      <% end %>
      <div class="links">
        <%= link_to_add_fields 'add person', f, :people %>
      </div>
    </div>

    <div id="owner">
      <div id="owner_from_list">
        <%= f.association :owner, :collection => Person.order(:name), :prompt => 'Choose an existing owner' %>
        <%= link_to_add_fields 'add a new person as owner', f, :owner %>
      </div>
    </div>

    <div id="tags">
      <%= f.simple_fields_for :project_tags do |project_tag| %>
        <%= render "project_tag_fields", :f => project_tag %>
      <% end %>
      <%= link_to_add_fields 'add a tag', f, :project_tags %>
    </div>
  </div>

  <div class="actions">
    <%= f.button :submit, :disable_with => 'Please wait...' %>
  </div>
<% end %>
